@model IList<CardItemViewModel>
@{
	ViewData["Title"] = "Index";
	var total = Model.Sum(a => a.Price.Value * a.Quantity);
}
<link href="//netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<div class="container-indent">
	<div class="container">
		<table id="cart" class="table table-hover table-condensed">
			<thead>
				<tr>
					<th style="width:50%">Продукт</th>
					<th style="width:10%">Цвет</th>
					<th style="width:10%">Размер</th>
					<th style="width:10%">Цена</th>
					<th style="width:8%">Количество</th>
					<th style="width:22%" class="text-center">Подитог</th>
					<th style="width:10%"></th>
				</tr>
			</thead>
			<tbody>
			@foreach (var item in Model)
			{
				<tr>
					<td data-th="Product">
						<div class="row">
							<div class="col-sm-2 hidden-xs"><img src="@Url.Action("Show", "Home", new {name = item.ImageEntity.FileName, extension = item.ImageEntity.FileExtension})" class="img-responsive" /></div>
							<div class="col-sm-10">
								<h4 class="nomargin">@item.Product.Name</h4>
								<p>@item.Product.Description</p>
							</div>
						</div>
					</td>
					<td data-th="Color">@item.ImageEntity.Color.Name</td>
					<td data-th="Size">@item.Price.ProductSize.Name</td>
					<td data-th="Price">₽@item.Price.Value</td>
					<td data-th="Quantity">
						<input type="number" class="form-control text-center" value="@item.Quantity">
					</td>
					<td data-th="Subtotal" class="text-center">@(item.Quantity*item.Price.Value)</td>
					<td class="actions" data-th="">
						<button class="btn btn-info btn-sm"><i class="fa fa-refresh"></i></button>
						<button class="btn btn-danger btn-sm"><i class="fa fa-trash-o"></i></button>
					</td>
				</tr>
			}
			</tbody>
			<tfoot>
				<tr class="visible-xs">
					<td class="text-center"><strong>Итого ₽@total</strong></td>
				</tr>
				<tr>
					<td><a href="#" class="btn btn-warning"><i class="fa fa-angle-left"></i> Назад в магазин</a></td>
					<td colspan="2" class="hidden-xs"></td>
					<td class="hidden-xs text-center"><strong>Итого ₽@total</strong></td>
					<td><a href="#" class="btn btn-success btn-block">Оформить заказ<i class="fa fa-angle-right"></i></a></td>
				</tr>
			</tfoot>
		</table>
	</div>
</div>

<style>
	.table > tbody > tr > td, .table > tfoot > tr > td {
		vertical-align: middle;
	}

	@@media screen and (max-width: 600px) {
		table#cart tbody td .form-control {
			width: 20%;
			display: inline !important;
		}

		.actions .btn {
			width: 36%;
			margin: 1.5em 0;
		}

		.actions .btn-info {
			float: left;
		}

		.actions .btn-danger {
			float: right;
		}

		table#cart thead {
			display: none;
		}

		table#cart tbody td {
			display: block;
			padding: .6rem;
			min-width: 320px;
		}

		table#cart tbody tr td:first-child {
			background: #333;
			color: #fff;
		}

		table#cart tbody td:before {
			content: attr(data-th);
			font-weight: bold;
			display: inline-block;
			width: 8rem;
		}

		table#cart tfoot td {
			display: block;
		}

			table#cart tfoot td .btn {
				display: block;
			}
	}
</style>

